# 💰 دليل نظام الساعات الإضافية

## 🎯 نظرة عامة

تم تحديث نظام إدارة الموارد البشرية ليدعم نظام الساعات الإضافية المطور، حيث يتم حساب أي عمل بعد ساعات الدوام الرسمية بمعدل 1.5 ضعف الساعة العادية.

## ⏰ أوقات العمل الرسمية

### الدوام الرسمي
- **وقت البداية:** 8:30 صباحاً
- **وقت النهاية:** 7:00 مساءً  
- **إجمالي الساعات:** 10.5 ساعة يومياً

### الساعات الإضافية
- **متى تبدأ:** بعد 7:00 مساءً
- **المعدل:** 1.5 ضعف الساعة العادية
- **الحساب:** كل ساعة إضافية = 1.5 ساعة عادية

## 🔢 طريقة الحساب

### الحساب الأساسي
```
الساعات الفعالة = الساعات العادية + (الساعات الإضافية × 1.5)
```

### مثال عملي
إذا عمل الموظف من 8:30 صباحاً إلى 9:00 مساءً:
- **الساعات العادية:** 10.5 ساعة (8:30 صباحاً - 7:00 مساءً)
- **الساعات الإضافية:** 2 ساعة (7:00 مساءً - 9:00 مساءً)
- **الساعات الفعالة:** 10.5 + (2 × 1.5) = 13.5 ساعة

## 💵 تأثير على الراتب

### حساب الراتب
```
الراتب اليومي = الساعات الفعالة × معدل الساعة
معدل الساعة = الراتب الشهري ÷ 6 أيام ÷ 10.5 ساعة
```

### مثال على الراتب
للموظف براتب 6,000 ريال:
- **معدل الساعة:** 6,000 ÷ 6 ÷ 10.5 = 95.24 ريال/ساعة
- **الراتب لليوم العادي:** 95.24 × 10.5 = 1,000 ريال
- **الراتب لليوم مع الإضافي:** 95.24 × 13.5 = 1,285.71 ريال

## 📊 العرض في النظام

### البيان المالي
يعرض النظام:
- **الساعات العادية:** عدد الساعات ضمن الدوام الرسمي
- **الساعات الإضافية:** عدد الساعات بعد 7:00 مساءً
- **الساعات الفعالة:** المجموع المحسوب للراتب
- **تفصيل الراتب:** عادي + إضافي بشكل منفصل

### جدول الحضور
- **الحالة:** تظهر "✅ حضور كامل (إضافي: 2.0س)" عند وجود ساعات إضافية
- **قيمة اليوم:** محسوبة بناءً على الساعات الفعالة
- **ساعات العمل:** عرض تفصيلي للوقت المُعمل

## 🛠️ تحسينات تقنية

### تحديث دالة `calculatePreciseTime`
```javascript
// إضافة حساب الساعات الإضافية
const workStart = new Date(`${date} 08:30:00`);
const workEnd = new Date(`${date} 19:00:00`); // 7:00 PM

// حساب الساعات العادية والإضافية
const effectiveHours = regularHours + (overtimeHours * 1.5);
```

### تحديث حساب الراتب
```javascript
// استخدام الساعات الفعالة بدلاً من الساعات العادية
const weeklyEarnings = totalEffectiveHours * hourlyRate;
```

## 🎯 مميزات النظام الجديد

### للموظفين
- **شفافية كاملة:** عرض تفصيلي للساعات العادية والإضافية
- **حساب عادل:** تعويض إضافي عن العمل خارج الدوام الرسمي
- **تتبع دقيق:** رصد دقيق لجميع الساعات

### للإدارة
- **تقارير شاملة:** إحصائيات مفصلة عن الساعات الإضافية
- **تحكم في التكاليف:** معرفة دقيقة لتكلفة الساعات الإضافية
- **عدالة في الأجور:** نظام موحد لحساب الساعات الإضافية

## 📋 خطوات التطبيق

### 1. تحديث النظام
النظام محدث تلقائياً مع الميزات الجديدة

### 2. فحص البيان المالي
- انتقل إلى البيان المالي للموظف
- اختر الأسبوع المطلوب
- سيظهر التقسيم الجديد للساعات

### 3. التحقق من الحسابات
- الساعات العادية: ضمن 8:30 صباحاً - 7:00 مساءً
- الساعات الإضافية: بعد 7:00 مساءً × 1.5
- الساعات الفعالة: المجموع المحسوب للراتب

## 🔧 إعدادات إضافية

### تخصيص أوقات العمل
يمكن تعديل أوقات العمل في الملف `script.js`:
```javascript
const workStart = new Date(`${date} 08:30:00`); // وقت البداية
const workEnd = new Date(`${date} 19:00:00`);   // وقت النهاية
```

### تخصيص معدل الإضافي
يمكن تعديل معدل الساعات الإضافية:
```javascript
const effectiveHours = regularHours + (overtimeHours * 1.5); // تغيير 1.5 إلى المعدل المطلوب
```

## 🎉 الخلاصة

نظام الساعات الإضافية الجديد يوفر:
- ✅ **عدالة في الأجور** - تعويض إضافي عن العمل خارج الدوام
- ✅ **شفافية كاملة** - عرض تفصيلي لجميع الساعات
- ✅ **حساب تلقائي** - لا حاجة للحسابات اليدوية
- ✅ **تقارير شاملة** - إحصائيات دقيقة للإدارة
- ✅ **مرونة في الإعدادات** - يمكن تخصيص الأوقات والمعدلات

---

**تم التحديث:** نظام الساعات الإضافية فعال من تاريخ اليوم 